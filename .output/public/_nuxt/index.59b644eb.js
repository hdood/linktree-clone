import{k as M,B as g,o as c,h as k,p as s,s as y,u as e,M as x,q as w,R as q,w as N,P,S as Q,U as G,m as H,L as J,E as F,N as S,O as z,t as E,r as I,c as A,Q as K,I as W,v as X,F as Y}from"./entry.6d44186c.js";import{_ as Z}from"./MobileSectionDisplay.ed83324c.js";import ee from"./AdminLayout.1e9315a8.js";import"./nuxt-link.c4b32e73.js";const te={id:"AddLink",class:"w-full bg-white rounded-3xl overflow-hidden"},se={class:"flex items-center justify-between pb-2 p-6"},le=s("div",{class:"text-[19px] font-semibold"},"Enter URL",-1),ne={class:"w-full"},ie=s("div",{class:"py-1"},null,-1),oe=["disabled"],ae={__name:"AddLink",emits:["close"],setup(B,{emit:v}){const L=M();let n=g(""),o=g(""),b=g(null);const l=async()=>{try{await L.addLink(n.value,o.value),await L.getAllLinks(),setTimeout(()=>{v("close"),n.value="",o.value=""},100)}catch(d){console.log(d),b.value=d.response.data.errors}};return(d,a)=>{const p=N,r=P;return c(),k("div",te,[s("div",se,[le,s("button",{onClick:a[0]||(a[0]=m=>d.$emit("close")),class:"flex items-center rounded-full p-1.5 hover:bg-[#EFF0EA]"},[y(p,{name:"mdi:close",size:"20",color:"#676B5F"})])]),s("form",{onSubmit:a[4]||(a[4]=q(m=>d.submit(),["prevent"])),class:"flex items-center gap-4 w-full pt-2 p-6"},[s("div",ne,[y(r,{class:"w-full",placeholder:"Name",input:e(n),"onUpdate:input":a[1]||(a[1]=m=>x(n)?n.value=m:n=m),inputType:"text",error:e(b)&&e(b).name?e(b).name[0]:""},null,8,["input","error"]),ie,y(r,{class:"w-full",placeholder:"URL",input:e(o),"onUpdate:input":a[2]||(a[2]=m=>x(o)?o.value=m:o=m),inputType:"text",error:e(b)&&e(b).url?e(b).url[0]:""},null,8,["input","error"])]),s("button",{type:"submit",disabled:!e(n)&&!e(o),onClick:a[3]||(a[3]=m=>l()),class:w(["rounded-full p-3 px-6",e(n)&&e(o)?"bg-[#8228D9] hover:bg-[#6c21b3] text-white":"bg-[#EFF0EA] text-[#A7AAA2]"])}," Add ",10,oe)],32)])}}},ue=["id"],de={id:"MainLinkBoxSection",class:"px-8 py-5"},re={class:"flex items-center justify-between py-1"},ce={class:"flex items-center w-full"},pe=["id"],me={key:1,class:"flex items-center w-full"},fe={class:"flex items-center"},ve={class:"flex items-center justify-between py-1"},xe={class:"flex items-center w-full"},ke=["id"],be={key:1,class:"flex items-center w-[calc(100%-2px)]"},_e={class:"flex items-center justify-between py-1 mt-4"},we={class:"flex items-center w-full relative"},ye={key:0,class:"flex items-center"},ge={class:"flex items-center px-1.5 py-[2px] rounded-md relative"},Le=s("div",{class:"text-center text-sm font-bold text-[#45494A]"}," Delete ",-1),he=s("div",{class:"flex items-center justify-center pt-3"}," Delete this forever? ",-1),Ie={class:"w-full px-4 py-3"},$e={class:"flex items-center gap-2 w-full"},Fe={class:"relative w-full bg-[#DFE2D9] py-1.5"},Ae=s("div",{class:"text-center text-sm font-bold text-[#45494A]"}," Add Thumbnail ",-1),Ce={class:"w-full flex items-center justify-between px-4 py-5"},Be=["src"],Me={class:"w-full pl-3"},Ne={__name:"LinkBox",props:{link:Object,selectedId:{type:Number,default:0},selectedStr:{type:String,default:""}},emits:["updatedInput"],setup(B,{emit:v}){const L=B,n=M(),{isMobile:o,updatedLinkId:b}=Q(n),{link:l,selectedId:d,selectedStr:a}=G(L);let p=g(""),r=g(""),m=g(null),f=g(!1),h=g(!1),_=g(!1);H(()=>{p.value=l.value.name,r.value=l.value.url,document.addEventListener("mouseup",function(i){let t=document.getElementById(`editNameInput-${l.value.id}`);t&&!t.contains(i.target)&&a.value=="isName"&&l.value.id==d.value&&(t.blur(),v("updatedInput",{id:0,str:""}))}),document.addEventListener("mouseup",function(i){let t=document.getElementById(`editLinkInput-${l.value.id}`);t&&!t.contains(i.target)&&a.value=="isLink"&&l.value.id==d.value&&(t.blur(),v("updatedInput",{id:0,str:""}))})});const D=J(async()=>{try{await n.updateLink(l.value.id,p.value,r.value),await n.getAllLinks()}catch(i){console.log(i),errors.value=i.response.data.errors}},500),C=(i,t)=>{d.value==l.value.id&&a.value==i&&setTimeout(()=>{document.getElementById(`${t}-${l.value.id}`).focus()},100)},j=(i,t)=>n.isMobile?(n.updatedLinkId=i,!1):i==l.value.id&&t=="isName",U=(i,t)=>n.isMobile?(n.updatedLinkId=i,!1):i==l.value.id&&t=="isLink",T=()=>{n.isMobile?n.updatedLinkId=l.value.id:(_.value=!0,f.value=!1)},R=async()=>{try{await n.updateLinkImage(m.value),await n.getAllLinks(),setTimeout(()=>h.value=!1,300)}catch(i){console.log(i)}},V=async()=>{let i=confirm("Are you sure you want to delete this link?");try{i&&(await n.deleteLink(l.value.id),await n.getAllLinks())}catch(t){console.log(t)}};return F(()=>p.value,()=>{p.value&&p.value!==l.value.name&&D()}),F(()=>r.value,()=>{r.value&&r.value!==l.value.url&&D()}),F(()=>d.value,()=>{d.value&&(C("isName","editNameInput"),C("isLink","editLinkInput"))}),F(()=>a.value,()=>{a.value&&(C("isName","editNameInput"),C("isLink","editLinkInput"))}),F(()=>b.value,i=>{i||v("updatedInput",{id:0,str:""})}),F(()=>m.value,async()=>await R()),(i,t)=>{const $=N,O=K;return c(),k("div",{id:`LinkBox${e(l).id}`,class:"w-full bg-white rounded-3xl"},[s("div",de,[s("div",re,[s("div",ce,[j(e(d),e(a))?S((c(),k("input",{key:0,id:`editNameInput-${e(l).id}`,type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>x(p)?p.value=u:p=u),maxlength:"18",class:"w-full text-sm font-semibold focus:outline-none"},null,8,pe)),[[z,e(p)]]):(c(),k("div",me,[s("div",{onClick:t[1]||(t[1]=u=>{x(p)?p.value=e(l).name:p=e(l).name,i.$emit("updatedInput",{id:e(l).id,str:"isName"})}),class:w(["font-semibold mr-2 cursor-pointer",e(o)?"text-xl":"text-sm"])},E(e(l).name),3),y($,{onClick:t[2]||(t[2]=u=>i.$emit("updatedInput",{id:e(l).id,str:"isName"})),class:"cursor-pointer",name:"octicon:pencil-24",size:e(o)?"23":"17",color:"#676B5F"},null,8,["size"])]))]),s("div",fe,[y($,{class:w(["cursor-pointer",e(o)?"min-w-[23px]":"min-w-[17px]"]),name:"mdi:bell-outline",size:e(o)?"25":"20",color:"#676B5F"},null,8,["class","size"])])]),s("div",ve,[s("div",xe,[U(e(d),e(a))?S((c(),k("input",{key:0,id:`editLinkInput-${e(l).id}`,type:"text","onUpdate:modelValue":t[3]||(t[3]=u=>x(r)?r.value=u:r=u),class:"w-full text-sm focus:outline-none"},null,8,ke)),[[z,e(r)]]):(c(),k("div",be,[s("div",{onClick:t[4]||(t[4]=u=>{x(r)?r.value=e(l).url:r=e(l).url,i.$emit("updatedInput",{id:e(l).id,str:"isLink"})}),class:w(["mr-2 truncate cursor-pointer",e(o)?"text-lg":"text-sm"])},E(e(l).url),3),y($,{onClick:t[5]||(t[5]=u=>i.$emit("updatedInput",{id:e(l).id,str:"isLink"})),class:w(["cursor-pointer min-w-[17px]",e(o)?"min-w-[23px]":"min-w-[17px]"]),name:"octicon:pencil-24",size:e(o)?"23":"17",color:"#676B5F"},null,8,["class","size"])]))])]),s("div",_e,[s("div",we,[s("div",{class:w(["flex items-center px-1.5 py-[2px] absolute -left-[6px] rounded-md",e(_)?"bg-[#8228D9]":"hover:bg-gray-200"])},[y($,{onClick:t[6]||(t[6]=u=>T()),class:"cursor-pointer",name:"icon-park-twotone:collect-picture",size:e(o)?"23":"17",color:e(_)?"#FFFFFF":"#676B5F"},null,8,["size","color"])],2)]),e(o)?I("",!0):(c(),k("div",ye,[s("div",ge,[s("button",{onClick:t[7]||(t[7]=u=>{x(f)?f.value=!0:f=!0,x(_)?_.value=!1:_=!1}),class:w(["flex items-center px-1.5 py-[2px] absolute -right-[6px] rounded-md",e(f)?"bg-[#8228D9]":"hover:bg-gray-200"])},[y($,{class:"cursor-pointer",name:"carbon:trash-can",size:"20",color:e(f)?"#FFFFFF":"#676B5F"},null,8,["color"])],2)])]))])]),s("div",{id:"FooterLinkDeleteSection",class:w(["overflow-hidden",[{"max-h-[180px] transition-all duration-300 ease-in":e(f)},{"max-h-0 transition-all duration-200 ease-out":!e(f)}]])},[s("button",{onClick:t[8]||(t[8]=u=>x(f)?f.value=!1:f=!1),class:"relative w-full bg-[#DFE2D9] py-1.5"},[y($,{name:"mdi:close",class:"absolute right-1 top-[6px] cursor-pointer",size:"20",color:"#45494A"}),Le]),he,s("div",Ie,[s("div",$e,[s("button",{onClick:t[9]||(t[9]=u=>V()),class:"flex items-center border justify-center w-full py-3 rounded-full text-black font-semibold hover:bg-gray-100"}," Remove ")])])],2),s("div",{id:"FooterLinkBoxSection",class:w(["overflow-hidden",[{"max-h-[180px] transition-all duration-300 ease-in":e(_)},{"max-h-0 transition-all duration-200 ease-out":!e(_)}]])},[s("div",Fe,[y($,{onClick:t[10]||(t[10]=u=>x(_)?_.value=!1:_=!1),name:"mdi:close",class:"absolute right-1 top-[6px] cursor-pointer",size:"20",color:"#45494A"}),Ae]),s("div",Ce,[s("img",{class:"rounded-lg w-[80px] aspect-square",src:e(l).image},null,8,Be),s("div",Me,[s("button",{onClick:t[11]||(t[11]=u=>x(h)?h.value=!0:h=!0),class:"flex items-center justify-center w-full py-3 rounded-full text-white font-semibold bg-[#8228D9] hover:bg-[#6c21b3] mb-2"}," Change ")])])],2),e(h)?(c(),A(O,{key:0,linkId:e(l).id,onData:t[12]||(t[12]=u=>x(m)?m.value=u:m=u),onClose:t[13]||(t[13]=u=>x(h)?h.value=!1:h=!1)},null,8,["linkId"])):I("",!0)],8,ue)}}},De={id:"AdminPage",class:"flex h-[100vh] pb-4"},Se={class:"lg:w-[calc(100%-500px)] md:w-[calc(100%-330px)] w-full md:pt-20 pt-14"},ze={class:"max-w-[750px] mx-auto pb-24"},Ee={key:1},je={key:2},Ue={class:"mt-4"},qe={__name:"index",setup(B){const v=M();let L=g({id:0,str:""}),n=g(!1);const o=l=>{L.value.id=l.id,L.value.str=l.str},b=()=>{v.isMobile?v.addLinkOverlay=!0:n.value=!0};return(l,d)=>{const a=N,p=ae,r=Ne,m=Z;return c(),A(ee,null,{default:W(()=>[s("div",De,[s("div",Se,[s("div",ze,[e(v).isMobile||!e(n)?(c(),k("button",{key:0,onClick:d[0]||(d[0]=f=>b()),class:w(["flex items-center justify-center w-full py-3 rounded-full text-white font-semibold bg-[#8228D9] hover:bg-[#6c21b3]",e(v).isMobile?"mt-8 text-xl":"mt-20 md:mt-8"])},[e(v).isMobile?I("",!0):(c(),A(a,{key:0,name:"mdi:plus",class:"mr-0.5",size:"25"})),e(v).isMobile?I("",!0):(c(),k("span",Ee,"Add link")),e(v).isMobile?(c(),k("span",je,"Add new link")):I("",!0)],2)):I("",!0),e(v).isMobile?I("",!0):(c(),A(p,{key:1,onClose:d[1]||(d[1]=f=>x(n)?n.value=!1:n=!1),class:w([{"mt-20 md:mt-8 mb-12 max-h-[1000px] transition-all duration-300 ease-in":e(n)},{"max-h-0 transition-all duration-300 ease-out":!e(n)}])},null,8,["class"])),(c(!0),k(Y,null,X(e(v).allLinks,f=>(c(),k("div",Ue,[f?(c(),A(r,{key:0,link:f,selectedId:e(L).id,selectedStr:e(L).str,onUpdatedInput:o,class:"mt-6"},null,8,["link","selectedId","selectedStr"])):I("",!0)]))),256))])]),y(m)])]),_:1})}}};export{qe as default};
